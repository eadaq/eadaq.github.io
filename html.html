<!doctype HTML>
<html>
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css.css"/> 
    </head>
    <body>
	    
	<div style="width: 100%; height: 20%; background-color: rgba(0,0,0,.0);">
		<div style="	width:100%;
				height: 100%;
				display: inline-grid;
				place-content: center;
				grid-template-columns: 20% 20%;
				grid-row-gap: 20px; 
				grid-column-gap: 29px; 
				align-items: center;
				text-align: center;
				top: 0px;
				">
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input class="round" type="radio" id="Achtelfinale"/>
				<label for="Achtelfinale">Achtelfinale</label>
			</div>
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input type="radio" id="Viertelfinale"/>
				<label class="round" for="Viertelfinale">Viertelfinale</label>
			</div>
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input type="radio" id="Halbfinale"/>
				<label class="round" for="Halbfinale">Halbfinale</label>
			</div>
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input type="radio" id="Finale"/>
				<label class="round" for="Finale">Finale</label>
			</div>
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input class="wta" type="radio" id="wta"/>
				<label for="wta">wta</label>
			</div>
			<div style="background-color: black; padding: 8px; border-radius: 5px;">
				<input class="atp" type="radio" id="atp"/>
				<label for="atp">atp</label>
			</div>
		</div>
	</div>
	
	<!-- wta -->
		
	<div class="page wta" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="	overflow: scroll;
				height: 100%;
				scroll-snap-type: y mandatory;
  				">
			<div style="		height: 100%;
						scroll-snap-align: start;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div></div><div></div>
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div>
					<script src="game_wta.js"></script>
				</div>
			</div>
			<div style="		height: 100%;
						scroll-snap-align: start;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div></div><div></div>
				<div>
					<script src="game_wta.js"></script>
				</div>
				<div>
					<script src="game_wta.js"></script>
				</div>
			</div>
		</div>
	</div>
	
	<div class="page wta" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div>
				<script src="game_wta.js"></script>
			</div>
			<div>
				<script src="game_wta.js"></script>
			</div>
			<div></div><div></div>
			<div>
				<script src="game_wta.js"></script>
			</div>
			<div>
				<script src="game_wta.js"></script>
			</div>
		</div>
	</div>
	
	<div class="page wta" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div>
				<script src="game_wta.js"></script>
			</div>
			<div>
				<script src="game_wta.js"></script>
			</div>
		</div>
	</div>
	
	<div class="page wta" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div style="transform: translateY(59px);">
				<script src="game_wta.js"></script>
			</div>
		</div>
	</div>
	
	<!-- atp -->
	
	<div class="page atp" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="	overflow: scroll;
				height: 100%;
				scroll-snap-type: y mandatory;
  				">
			<div style="		height: 100%;
						scroll-snap-align: start;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div></div><div></div>
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div>
					<script src="game_atp.js"></script>
				</div>
			</div>
			<div style="		height: 100%;
						scroll-snap-align: start;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div></div><div></div>
				<div>
					<script src="game_atp.js"></script>
				</div>
				<div>
					<script src="game_atp.js"></script>
				</div>
			</div>
		</div>
	</div>
	
	<div class="page atp" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div>
				<script src="game_atp.js"></script>
			</div>
			<div>
				<script src="game_atp.js"></script>
			</div>
			<div></div><div></div>
			<div>
				<script src="game_atp.js"></script>
			</div>
			<div>
				<script src="game_atp.js"></script>
			</div>
		</div>
	</div>
	
	<div class="page atp" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div>
				<script src="game_atp.js"></script>
			</div>
			<div>
				<script src="game_atp.js"></script>
			</div>
		</div>
	</div>
	
	<div class="page atp" style="	 
					width: 100%; 
					height: 80%;  
					">
		<div style="		height: 100%;
						position: relative;
						background-color: rgba(0,0,0,.0);
						display: inline-grid;
						place-content: center;
						grid-template-columns: 70%;
						grid-template-rows: 110px 110px;
						grid-row-gap: 29px; 
						align-items: center;
						">
			<div style="transform: translateY(59px);">
				<script src="game_atp.js"></script>
			</div>
		</div>
	</div>
	
	<div class="loader" style="	width: 100%; 
					height: 80%; 
					position: absolute; 
					top: 20%;
					background-color: #0d0d0d; 
					display: none; 
					flex-direction: column;
					justify-content: center;  
					align-items :center;">
		<img src="https://www.gstatic.com/ui/v1/activityindicator/loading_24.gif">	
	</div>
			
	<script type="text/javascript"> 
		// set games 
		function setGames(){
			var games_divs = document.getElementsByClassName("container");
			let games = [
			/* wta */
			["Achtelfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_wta", "p2_wta"],
			["Achtelfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_wta", "p2_wta"],
			
			["Achtelfinale · Platz 3", "12:00 *", "Flagge1", "Flagge2", "5", "6", "p1_wta", "p2_wta"],
			["Achtelfinale · Platz 4", "12:00 *", "Flagge1", "Flagge2", "7", "8", "p1_wta", "p2_wta"],
			
			["Achtelfinale · Platz 5", "12:00 *", "Flagge1", "Flagge2", "9", "10", "p1_wta", "p2_wta"],
			["Achtelfinale · Platz 6", "12:00 *", "Flagge1", "Flagge2", "11", "12", "p1_wta", "p2_wta"],
			
			["Achtelfinale · Platz 7", "12:00 *", "Flagge1", "Flagge2", "13", "14", "p1_wta", "p2_wta"],
			["Achtelfinale · Platz 8", "12:00 *", "Flagge1", "Flagge2", "15", "16", "p1_wta", "p2_wta"],
			
			
			["Viertelfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_wta", "p2_wta"],
			["Viertelfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_wta", "p2_wta"],
			
			["Viertelfinale · Platz 3", "12:00 *", "Flagge1", "Flagge2", "5", "6", "p1_wta", "p2_wta"],
			["Viertelfinale · Platz 4", "12:00 *", "Flagge1", "Flagge2", "7", "8", "p1_wta", "p2_wta"],
			
			
			["Halbfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_wta", "p2_wta"],
			["Halbfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_wta", "p2_wta"],
			
			
			["Finale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_wta", "p2_wta"],
			/* atp */
			["Achtelfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_atp", "p2_atp"],
			["Achtelfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_atp", "p2_atp"],
			
			["Achtelfinale · Platz 3", "12:00 *", "Flagge1", "Flagge2", "5", "6", "p1_atp", "p2_atp"],
			["Achtelfinale · Platz 4", "12:00 *", "Flagge1", "Flagge2", "7", "8", "p1_atp", "p2_atp"],
			
			["Achtelfinale · Platz 5", "12:00 *", "Flagge1", "Flagge2", "9", "10", "p1_atp", "p2_atp"],
			["Achtelfinale · Platz 6", "12:00 *", "Flagge1", "Flagge2", "11", "12", "p1_atp", "p2_atp"],
			
			["Achtelfinale · Platz 7", "12:00 *", "Flagge1", "Flagge2", "13", "14", "p1_atp", "p2_atp"],
			["Achtelfinale · Platz 8", "12:00 *", "Flagge1", "Flagge2", "15", "16", "p1_atp", "p2_atp"],
			
			
			["Viertelfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_atp", "p2_atp"],
			["Viertelfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_atp", "p2_atp"],
			
			["Viertelfinale · Platz 3", "12:00 *", "Flagge1", "Flagge2", "5", "6", "p1_atp", "p2_atp"],
			["Viertelfinale · Platz 4", "12:00 *", "Flagge1", "Flagge2", "7", "8", "p1_atp", "p2_atp"],
			
			
			["Halbfinale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_atp", "p2_atp"],
			["Halbfinale · Platz 2", "12:00 *", "Flagge1", "Flagge2", "3", "4", "p1_atp", "p2_atp"],
			
			
			["Finale · Platz 1", "12:00 *", "Flagge1", "Flagge2", "1", "2", "p1_atp", "p2_atp"]
			];
			for (let i = 0; i < games.length; i++){
				[	games_divs[i].getElementsByClassName("meta")[0].textContent,
					games_divs[i].getElementsByClassName("zeit")[0].textContent,
			
					games_divs[i].getElementsByClassName("src")[0].src,
					games_divs[i].getElementsByClassName("src")[1].src,
			
					games_divs[i].getElementsByClassName("seed")[0].textContent,
					games_divs[i].getElementsByClassName("seed")[1].textContent,
			
					games_divs[i].getElementsByClassName("player")[0].textContent,
					games_divs[i].getElementsByClassName("player")[1].textContent
				] = games[i]
			}
		}
		window.onload = function() {
			setGames();
		};
	 	// pages control
	 	var bool = 0;
	 	var m = 0; 
	 	async function swap(i) {
	 		// loading animation start
	 		var load_div = document.getElementsByClassName("loader")[0];
	 		load_div.style.display = "flex";
	 		// select 
	 		m = i;
	 		var wta_pages = document.getElementsByClassName("page wta");
	 		var atp_pages = document.getElementsByClassName("page atp");
	 		if (bool == 0) {
	 			pages = wta_pages;
	 			for (let j = 0; j < atp_pages.length; j ++){
	 				atp_pages[j].style.display = "none";
	 				atp_pages[j].style.position = "absolute";
	 			}
	 		}
	 		else {
	 			pages = atp_pages;
	 			for (let j = 0; j < wta_pages.length; j ++){
	 				wta_pages[j].style.display = "none";
	 				wta_pages[j].style.position = "absolute";
	 			}
	 		}
	 		for (let j = 0; j < pages.length; j ++){
	 			if (j !== i){
	 				pages[j].style.display = "none";
	 				pages[j].style.position = "absolute";
	 			}
	 			else { 
	 				pages[j].style.display = "block"; 
	 				pages[j].style.position = "relative";
	 			}
	 		}
	 		// waiting smooth load 
	 		await new Promise(r => setTimeout(r, 1000));
	 		// loading animation end
	 		load_div.style.display = "none";
	 	}
	 	
		var ipts = document.getElementsByClassName('round');
		for (let i = 0; i < ipts.length; i ++){
			ipts[i].onclick = function() {swap(i)};
		}
		
		var wta_button = document.getElementsByClassName('wta')[0];
		var atp_button = document.getElementsByClassName('atp')[0];
		
		wta.onclick = function() {bool = 0; swap(m)};
		atp.onclick = function() {bool = 1; swap(m)};
		
		//url control
	 
	 	function parse() {
	 	
  			var games = [...document.querySelectorAll('.div-game')].map(el => [...el.querySelectorAll('p')].map(el => el.textContent)); // matrix 
        		var games = games.map(el => el.map(item => item == "" ? "o" : item)); // replace "" -> "o"
			let test = games.map(el => el.join("&"));
			return test.join("&&");
		}
		
		window.addEventListener("load", (event) => {
			try {
	  			let url = window.location.href;
	  			let param = url.split('?')[1];
	  			let m = param.split('&&').map(el => el.split('&'));
	  			let rslt = m.map(el => el.map(item => item == "o" ? "" : item))
	  			var games = [...document.querySelectorAll('.div-game')].map(el => [...el.querySelectorAll('p')]);
	  			games.forEach((game, i) => game.forEach((satz, j) => satz.innerText = rslt[i][j])); 
	  		} catch (exceptionVar) {}
		});
		
		let p = document.querySelectorAll('p')
		var config = { attributes: true, childList: true, subtree: true, characterDataOldValue: true };
		var observer = new MutationObserver((list) => {
  			history.pushState({}, null, "https://eadaq.github.io/html.html?" + parse());
		});

		for (let i=0; i < p.length; i++){
			observer.observe(p[i], config);
		}
    	</script> 
    </body>
</html>
